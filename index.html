<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="language" content="en, es">
  <meta http-equiv="content-language" content="en, es">
  <title>OmniSign | Legal Expertise You Can Trust</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <script src="https://www.google.com/recaptcha/api.js?render=6Lf311ssAAAAAIbXuWdDc6oQUNJAxBXvNrDclFLT"></script>
</head>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": "https://omnisignings.com/#organization",
      "name": "OmniSign",
      "url": "https://omnisignings.com",
      "logo": "https://omnisignings.com/logo.png",
      "email": "info@omnisignings.com",
      "sameAs": []
    },
    {
      "@type": ["LocalBusiness", "ProfessionalService"],
      "@id": "https://omnisignings.com/#business",
      "name": "OmniSign Signing Services",
      "image": "https://omnisignings.com/logo.png",
      "url": "https://omnisignings.com",
      "telephone": "+1-845-402-6804",
      "availableLanguage": ["English", "Spanish"],
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Bronx",
        "addressRegion": "NY",
        "addressCountry": "US"
      },
      "areaServed": [
        "Bronx NY",
        "Westchester County NY",
        "Putnam County NY",
        "Dutchess County NY",
        "Orange County NY"
      ],
      "priceRange": "$$",
      "openingHours": "Mo-Su",
      "parentOrganization": {
        "@id": "https://omnisignings.com/#organization"
      }
    },
    {
      "@type": "Service",
      "@id": "https://omnisignings.com/#legal-signings",
      "name": "Legal Document Signing Services",
      "provider": {
        "@id": "https://omnisignings.com/#business"
      },
      "serviceType": "Legal Document Signing",
      "areaServed": {
        "@type": "AdministrativeArea",
        "name": "New York"
      },
      "description": "Legal document signings overseen by legal professionals using commissioned, vetted notaries."
    },
    {
      "@type": "FAQPage",
      "@id": "https://omnisignings.com/#faq",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Do all documents require notarization?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. While not every document requires notarization, OmniSign exclusively uses commissioned notaries for safety, verification, and compliance."
          }
        },
        {
          "@type": "Question",
          "name": "Are bookings confirmed immediately?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. All bookings are reviewed by legal professionals. Confirmation occurs after review and payment."
          }
        },
        {
          "@type": "Question",
          "name": "What happens if my request is urgent?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Requests needed within same day or 24 hours are treated as rush and reviewed for availability & pricing before confirmation."
          }
        }
      ]
    },
    {
      "@type": "WebSite",
      "@id": "https://omnisignings.com/#website",
      "url": "https://omnisignings.com",
      "name": "OmniSign",
      "publisher": {
        "@id": "https://omnisignings.com/#organization"
      }
    }
  ]
}
</script>

<body>
  
<div class="top-bar">
  <div class="container top-bar-inner">
    <span>
      üìß <a href="mailto:info@omnisign.com">info@omnisign.com</a>
    </span>
    <span>
      üìû <a href="tel:+18454026804">(845) 402-6804</a>
    </span>
  </div>
</div>

  <header class="main-header">
  <div class="container nav-inner">
    <div class="logo">
  <a href="#home">
    <img src="images/logo.png" alt="OmniSign logo">
  </a>
</div>
    <nav>
      <a href="#home">Home</a>
      <a href="#services">Services</a>
      <a href="#book">Book</a>
      <a href="#contact">Contact</a>
    </nav>
  </div>
</header>

<header class="hero">
  <!-- Background Video -->
  <video class="hero-video" autoplay muted loop playsinline>
    <source src="video/hero.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <!-- Hero Content -->
  <div class="container">
    <h1>OmniSign</h1>
    <h2>More Than a Signing.<br>Legal Expertise You Can Trust.</h2>
    <p>
      Professional mobile signings across the Bronx, Westchester, Putnam, & Dutchess‚Äî
      backed by <strong>25+ years of combined legal experience</strong>.
    </p>
    <div class="cta-buttons">
      <a href="#book" class="btn primary">Book a Signing</a>
      <a href="tel:1234567890" class="btn secondary">Call Now</a>
    </div>
  </div>
</header>

<section class="why">
  <div class="container">
    <h3>Why OmniSign?</h3>
    <p class="intro">
      Most signing services focus on speed.  
      <strong>We focus on accuracy, understanding, and trust.</strong>
    </p>

    <div class="features">
      <div class="feature">‚úî Legal professionals handling legal documents</div>
      <div class="feature">‚úî Deep experience with pleadings & affidavits</div>
      <div class="feature">‚úî Mobile, flexible, and deadline-driven</div>
      <div class="feature">‚úî Friendly, discreet, and reliable service</div>
    </div>
  </div>
  <div class="notary-trust-block">
  <h4>Why We Only Work With Commissioned Notaries</h4>
  <p>
    While not every document requires notarization, OmniSign exclusively works
    with <strong>commissioned notaries</strong> because they are
    <strong>screened, vetted, and held to state standards</strong>.
  </p>
  <p>
    We will never send an unverified individual into your home, office, or
    sensitive environment. Every professional dispatched through OmniSign has
    passed required background checks and operates under formal legal authority.
  </p>
  <p class="trust-emphasis">
    Your safety, privacy, and peace of mind come first.
  </p>
</div>
</section>

<section id="services" class="services-row-section">
  <div class="container">
    <h3 class="section-title">Our Services</h3>
    <div class="services-row">
      <!-- LEGAL DOCUMENT SIGNINGS -->
      <div class="service-col featured">
        <span class="featured-badge">Featured</span>
        <div class="service-icon">‚öñÔ∏è</div>
        <h4>Legal Document Signings</h4>
        <p class="service-desc">
          Court and legal documents overseen by experienced legal professionals.
        </p>
        <ul class="doc-list">
          <li>Summons & Complaints</li>
          <li>Motions & Court Orders</li>
          <li>Orders to Show Cause</li>
          <li>Judgments & Legal Pleadings</li>
        </ul>
        <a href="?service=legal#book" class="btn small primary">Book this service</a>
      </div>
      <!-- REAL ESTATE SIGNINGS -->
      <div class="service-col">
        <div class="service-icon">üè†</div>
        <h4>Real Estate Signings</h4>
        <p class="service-desc">
          Residential & commercial real estate.</p>
        <ul class="doc-list">
          <li>HELOCs & Refinance</li>
          <li>Deeds & Transfers</li>
          <li>Loan Closings</li>
          <li>Seller & Buyer Packages</li>
        </ul>
        <a href="?service=real-estate#book" class="btn small secondary">
          Book this service
        </a>
      </div>
      <!-- ESTATE & PROBATE -->
      <div class="service-col">
        <div class="service-icon">üìú</div>
        <h4>Estate & Probate</h4>
        <p class="service-desc">
          Sensitive estate-related documents handled with care and discretion.
        </p>
        <ul class="doc-list">
          <li>Powers of Attorney</li>
          <li>Probate Documents</li>
          <li>Trust & Estate Forms</li>
          <li>Executor Authorizations</li>
        </ul>
        <a href="?service=estate#book" class="btn small secondary">Book this service</a>
      </div>
      <!-- GENERAL SIGNINGS -->
      <div class="service-col">
        <div class="service-icon">‚úçÔ∏è</div>
        <h4>General Signings</h4>
        <p class="service-desc">
          Personal and administrative documents requiring verification.
        </p>
        <ul class="doc-list">
          <li>Affidavits & Declarations</li>
          <li>Consents & Authorizations</li>
          <li>HIPAA Forms</li>
          <li>Travel & School Forms</li>
        </ul>
        <a href="?service=general#book" class="btn small secondary">Book this service</a>
      </div>
    </div>
    <div class="language-indicator" title="Spanish support available">
      <span class="globe">üåê</span>
      <span lang="es" aria-label="Spanish language support">Hablamos Espa√±ol</span>
    </div>
  </div>
</section>

<section class="areas">
  <div class="container">
    <h3>Service Areas</h3>
    <p>üìç Bronx &nbsp;‚Ä¢&nbsp; üìç Westchester County &nbsp;‚Ä¢&nbsp; üìç Putnam County‚Ä¢&nbsp; üìç Dutchess County‚Ä¢&nbsp; üìç Orange County</p>
  </div>
</section>

  <section class="faq">
  <div class="container">
    <h3>Frequently Asked Questions</h3>
    <p class="faq-intro">
      Common questions we receive before a booking.
    </p>

    <div class="faq-list">
      <div class="faq-item">
        <button class="faq-question">
          <span>Do all documents require notarization?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>
            No. Some documents only require a professional witness or identity
            verification. Each request & document is reviewed to determine what is required.
          </p>
        </div>
      </div>
      <div class="faq-item">
        <button class="faq-question">
          <span>How is pricing determined?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>
            Pricing depends on document type, page count, urgency, and location.
            Pricing is provided after review and before payment is collected.
          </p>
        </div>
      </div>
      <div class="faq-item">
        <button class="faq-question">
          <span>Is payment required upfront?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>
            Payment is required only after your request has been reviewed and
            confirmed. Bookings are not finalized until payment is received.
          </p>
        </div>
      </div>
      <div class="faq-item">
        <button class="faq-question">
          <span>Can I book without uploading documents?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>
            Yes. Uploading documents is strongly recommended for a faster response, but not required. Secure
            delivery instructions can be provided after submission if needed.
          </p>
        </div>
      </div>
      <div class="faq-item">
        <button class="faq-question">
          <span>Do you notarize handwritten documents?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>
            Handwritten documents may be notarized if they meet legal
            requirements and are complete at the time of signing.
          </p>
        </div>
      </div>

    </div>
  </div>
</section>

<section id="book" class="booking">
  <div class="container">
    <h3>Book a Signing</h3>
    <div class="booking-intro">
  <strong>We don‚Äôt guess. We review.</strong>
  <p>
    Every signing is evaluated by legal professionals to ensure accuracy,
    safety, and proper execution. Pricing is provided after review.
  </p>
</div>
    
    <form id="bookingForm" method="POST" enctype="multipart/form-data">
      <input type="hidden" name="form_type" value="booking">
      <input type="text" name="company" style="display:none"> 
      <div class="form-group">
        <label for="name">Full Name<span class="req">*</span></label>
        <input type="text" id="name" name="name" required>
      </div>
      <div class="form-group">
        <label for="phone">Phone Number<span class="req">*</span></label>
        <input type="tel" id="phone" name="phone" required>
      </div>
      <div class="form-group">
        <label for="email">Email Address<span class="req">*</span></label>
        <input type="email" id="email" name="email" required>
        </div>
      <div class="form-row">
        <div class="form-group">
          <label for="serviceSelect">Service<span class="req">*</span></label>
          <select id="serviceSelect" name="service" required>
            <option value="">Select a Service</option>
            <option value="legal">Legal Document Signings</option>
            <option value="Real Estate">REal Estate Signings</option>
            <option value="estate">Estate & Probate</option>
            <option value="general">General Signings</option>
          </select>
        </div>
        <div class="form-group">
          <label for="pageCount">Approx. No. of Pages<span class="req">*</span></label>
          <input type="number" id="pageCount" name="page_count" min="1" required>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="neededBy">Needed By<span class="req">*</span></label>
          <input type="date" id="neededBy" name="needed_by" required>
          <p id="priorityRushNotice" class="rush-notice priority" hidden>
            üö® <strong>Priority Rush:</strong> Same-day requests require immediate coordination, are subject to availability & enhanced service fees.
          </p>
          <p id="rushNotice" class="rush-notice standard" hidden>
            ‚ö†Ô∏è <strong>Rush Signing:</strong> Requests within 24 hours are reviewed for availability and may include rush service fees.
          </p>
        </div>
       <div class="form-group upload-group">
         <label for="documents">Upload documents (recommended)</label>
         <input type="file" id="documents" name="documents" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" multiple hidden>
         <label for="documents" class="upload-btn"><span class="upload-icon">‚¨ÜÔ∏è</span>Upload files</label>
         <div id="filePreview" class="file-preview"></div>
         <p id="fileError" class="file-error" hidden></p>
         <p id="fileError" class="file-error" hidden>‚ö†Ô∏è Each file must be 5MB or less.</p>
         <p class="upload-disclaimer">
           Accepted file types: PDF, Word, JPG, PNG. Max file size: 5MB.
         </p>
       </div>
      </div>
      <div class="form-group">
          <label for="instructions">Special Instructions<span class="optional">(optional)</span></label>
          <textarea id="instructions" name="instructions" rows="4" placeholder="Any special instructions, access notes, timing concerns, or details we should know?"></textarea>
        </div>
      <div class="consent">
        <label>
          <input type="checkbox" required>
          <span class="consent-text">
            I acknowledge I have read and agree to the
            <a href="javascript:void(0)" onclick="openLegalModal('terms')">Terms of Service</a> and
            <a href="javascript:void(0)" onclick="openLegalModal('refund')">Refund Policy</a>.<span> For large or sensitive document packages, you may submit the request without uploading files.
           Secure delivery instructions will be provided after review.</span>.
          </span>
        </label>
      </div>
      <button type="submit" class="btn primary">
        Book Request
      </button>
      <p id="bookingMsg" class="form-msg"></p>
    </form>
  </div>
</section>

  <section class="booking-timeline">
  <h4>What happens next?</h4>
  <div class="timeline">
    <div class="timeline-step">
      <span class="step-number">1</span>
      <p>Your request is reviewed by our legal team</p>
    </div>
    <div class="timeline-arrow">‚Üí</div>
    <div class="timeline-step">
      <span class="step-number">2</span>
      <p>Scope, timing, and availability are confirmed</p>
    </div>
    <div class="timeline-arrow">‚Üí</div>
    <div class="timeline-step">
      <span class="step-number">3</span>
      <p>You receive a payment request to confirm the booking</p>
    </div>
  </div>
</section>

<section id="contact" class="contact-section">
  <div class="container contact-grid">
    <!-- LEFT: CONTACT INFO -->
    <div class="contact-info">
      <h3>Contact OmniSign</h3>
      <p>
        <span class="icon">üìû</span>
        <a href="tel:+18454026804">(845) 402-6804</a>
      </p>
      <p>
        <span class="icon">üìß</span>
        <a href="mailto:info@omnisignings.com">info@omnisignings.com</a>
      </p>
      <p>
        <span class="icon">üïí</span>
        <strong>Hours:</strong><br>
        Monday ‚Äì Sunday<br>
        10:00 AM ‚Äì 6:00 PM
      </p>
      <p class="after-hours">
        After-hours customer support available if necessary.
        A member of our team will always respond.
      </p>
    </div>
    <!-- RIGHT: CONTACT FORM -->
    <div class="contact-form">
      <h3>Send Us a Message</h3>
      <form id="contactForm" method="POST">
        <input type="hidden" name="form_type" value="contact">
        <input type="text" name="company" style="display:none">
        <input type="text" name="name" placeholder="Full Name" required>
        <input type="email" name="email" placeholder="Email Address" required>
        <select name="inquiry" required>
           <option value="">Select Inquiry Type</option>
           <option value="General Question">General Question</option>
           <option value="Booking">Booking a Signing</option>
           <option value="Pricing">Pricing</option>
           <option value="Other">Other</option>
        </select>
        <textarea name="message" placeholder="How can we help you?" required></textarea>
        <!-- Honeypot (spam protection) -->
        <input type="text" name="_gotcha" style="display:none">
        <button type="submit" class="btn primary">Send Message</button>
        <p id="contactMsg" class="form-msg" role="status" aria-live="polite"></p>
      </form>
    </div>
  </div>
</section>
  
<footer>
  <div class="footer-top">
    <div class="footer-left">
      <div class="footer-links">
        <a href="javascript:void(0)" onclick="openLegalModal('terms')">Terms of Service</a>
        <span class="divider">‚Ä¢</span>
        <a href="javascript:void(0)" onclick="openLegalModal('refund')">Refund Policy</a>
      </div>
    </div>

    <div class="footer-right">
      <div class="footer-contact">
        <p>
          üìß <a href="mailto:info@omnisign.com">info@omnisign.com</a>
          &nbsp;&nbsp;|&nbsp;&nbsp;
          ‚òéÔ∏è <a href="tel:+18454026804">(845) 402-6804</a>
        </p>
      </div>
    </div>
  </div>
  <div class="footer-trust">
    <div class="trust-items">
      <a href="https://www.nationalnotary.org/" target="_blank" rel="noopener">
        <img src="https://paralegalsftc.com/wp-content/uploads/2026/01/National-Notary-Association-logo-design.png" alt="National Notary Association Member">
      </a>
      <a href="https://www.american-notary.org/" target="_blank" rel="noopener">
        <img src="https://paralegalsftc.com/wp-content/uploads/2026/01/aan-1.png" alt="American Association of Notaries Member">
      </a>
      <div class="ssl-badge">
        üîí <span>SSL Secured</span>
      </div>
    </div>
  </div>
  <p class="footer-copy">
    ¬© <span id="year"></span> OmniSign. All rights reserved.
  </p>
</footer>

<div id="backToTopWrapper" aria-label="Back to top">
  <span class="back-text">Back to top</span>
  <button id="backToTop">‚Üë</button>
</div>

 <!-- LEGAL MODAL -->
<div id="legalModal" class="modal-overlay" aria-hidden="true">
  <div class="modal-box" role="dialog" aria-modal="true">
    <button class="modal-close" aria-label="Close">&times;</button>
    <h4 id="modalTitle"></h4>
    <div class="modal-content" id="modalContent">
      <!-- Content injected by JS -->
    </div>
  </div>
</div>
  
<script>
document.addEventListener("DOMContentLoaded", () => {
  /* =========================
     BASIC UI
  ========================== */
  document.getElementById("year").textContent = new Date().getFullYear();
  const header = document.querySelector(".main-header");
  const backToTopWrapper = document.getElementById("backToTopWrapper");
  const backToTopBtn = document.getElementById("backToTop");
  window.addEventListener("scroll", () => {
    if (header) {
      header.classList.toggle("scrolled", window.scrollY > 50);
    }
    if (backToTopWrapper) {
      backToTopWrapper.style.display = window.scrollY > 400 ? "block" : "none";
    }
  });
  if (backToTopBtn) {
    backToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  }
  /* =========================
     PRESELECT SERVICE FOR BOOKING FORM
  ========================== */
  const urlParams = new URLSearchParams(window.location.search);
  const preselectedService = urlParams.get("service");
  if (preselectedService && serviceSelect) {
    serviceSelect.value = preselectedService;
    serviceSelect.dispatchEvent(new Event("change"));
  }
  /* ======================
    TERMS AND REFUNDS
  ======================== */
 const legalContent = {
  terms: {
    title: "Terms of Service",
    body: `
      <p>OmniSign provides mobile signing coordination services overseen by legal professionals.
      We do not provide legal advice.</p>
      <p>All booking requests are subject to review, availability, and acceptance.
      Bookings are not confirmed until payment is received.</p>
      <p>Clients are responsible for ensuring that all documents provided are accurate,
      complete, and ready for execution.</p>
      <p>OmniSign reserves the right to decline or cancel any request that cannot be completed
      safely, legally, or professionally.</p>
      <p>Requests requiring same-day completion are classified as
      <strong>Priority Rush</strong> and may incur enhanced service fees due to
      immediate coordination, scheduling constraints, and resource allocation.
      </p>
      <p>Requests requiring completion within 24 hours are classified as
      <strong>Rush Signings</strong> and may be subject to expedited service fees.
      </p>
      <p>In certain circumstances, requests submitted with extremely short notice
      (including requests requiring completion within a few hours) may be treated
      as <strong>Expedited or Priority Rush</strong> services, even if not expressly
      designated as such at the time of submission.
      </p>
      <p>All urgency classifications and any applicable fees are determined after
      review and are based on availability, timing, document requirements, and
      operational considerations. Clients will be informed of applicable fees
      prior to confirmation and payment.
      </p>
    `
  },
  refund: {
    title: "Refund Policy",
    body: `
      <p>Due to the nature of signing services, refunds are not guaranteed.</p>
      <p>If a cancellation occurs after a notary has been dispatched, travel or service fees
      may apply.</p>
      <p>Refund requests are reviewed on a case-by-case basis and depend on timing,
      document readiness, and service completion status.</p>
    `
  }
};
const modal = document.getElementById("legalModal");
const modalTitle = document.getElementById("modalTitle");
const modalContent = document.getElementById("modalContent");
const closeBtn = document.querySelector(".modal-close");
function openLegalModal(type) {
  modalTitle.textContent = legalContent[type].title;
  modalContent.innerHTML = legalContent[type].body;
  modal.classList.add("active");
  document.body.style.overflow = "hidden";
}
function closeLegalModal() {
  modal.classList.remove("active");
  document.body.style.overflow = "";
}
closeBtn.addEventListener("click", closeLegalModal);
modal.addEventListener("click", (e) => {
  if (e.target === modal) closeLegalModal();
});
document.addEventListener("keydown", (e) => {
  if (e.key === "Escape") closeLegalModal();
});
window.openLegalModal = openLegalModal;
 /* ========================
    DISABLE BOOKING BUTTON 
 ========================= */
const consent = document.querySelector(".consent input");
const submit = document.querySelector("#bookingForm button");
submit.disabled = true;
consent.addEventListener("change", () => {
  submit.disabled = !consent.checked;
});
/* ========================
   FAQ'S ACCORDION
========================= */
  document.querySelectorAll(".faq-question").forEach(button => {
    button.addEventListener("click", () => {
      const item = button.parentElement;
      const isOpen = item.classList.contains("active");
      document.querySelectorAll(".faq-item").forEach(i => {
        i.classList.remove("active");
      });
      if (!isOpen) {
        item.classList.add("active");
      }
    });
  }); 
 /* ========================
    RUSH NOTICE
 ========================= */
const neededBy = document.getElementById("neededBy");
const rush = document.getElementById("rushNotice");
const priorityRush = document.getElementById("priorityRushNotice");
const urgency = document.getElementById("urgencyLevel");
neededBy.addEventListener("change", () => {
  if (!neededBy.value) return;
  // Parse YYYY-MM-DD safely (LOCAL date)
  const [year, month, day] = neededBy.value.split("-").map(Number);
  const selectedDate = new Date(year, month - 1, day);
  const now = new Date();
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  const diffDays =
    (selectedDate - today) / (1000 * 60 * 60 * 24);
  // Reset UI
  rush.hidden = true;
  priorityRush.hidden = true;
  neededBy.classList.remove("rush", "priority-rush");
  if (urgency) urgency.value = "standard";
  if (diffDays === 0) {
    // SAME DAY ‚Üí Priority Rush
    priorityRush.hidden = false;
    neededBy.classList.add("priority-rush");
    if (urgency) urgency.value = "priority_rush";
  } else if (diffDays === 1) {
    // TOMORROW ‚Üí Rush
    rush.hidden = false;
    neededBy.classList.add("rush");
    if (urgency) urgency.value = "rush";
  }
 });
/* ===========================
   CONFIG
=========================== */
const ENDPOINT = "https://script.google.com/macros/s/AKfycbz4E3oEyXPgpjpuBwokB3Cu5dgch7eezpvvdM2SjbKltX-2jwnV_lX-5N_9lxHVDpawlg/exec";
const RECAPTCHA_SITE_KEY = "6Lf311ssAAAAAIbXuWdDc6oQUNJAxBXvNrDclFLT";
const MAX_FILES = 3;
const MAX_MB = 5;
const MAX_BYTES = MAX_MB * 1024 * 1024;
/* ===========================
   BOOKING FILE PREVIEW + LIMITS
=========================== */
const fileInput = document.getElementById("documents");
const filePreview = document.getElementById("filePreview");
const fileError   = document.getElementById("fileError");
let selectedFiles = [];
function renderPreview() {
  filePreview.innerHTML = "";
  fileError.textContent = "";
  selectedFiles.forEach((file, idx) => {
    const item = document.createElement("div");
    item.className = "file-item";
    // Thumbnail / icon
    let visual;
    if (file.type.startsWith("image/")) {
      visual = document.createElement("img");
    visual.src = URL.createObjectURL(file);
    } else {
      visual = document.createElement("div");
      visual.className = "file-badge";
      if (file.type === "application/pdf") {
        visual.innerHTML = `
        <svg width="28" height="28" viewBox="0 0 24 24" fill="#dc2626">
        <path d="M6 2h7l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/>
        <text x="7" y="17" font-size="8" fill="white">PDF</text>
      </svg>
    `;
      } else {
        visual.textContent =
          file.name.split(".").pop()?.toUpperCase() || "FILE";
      }
    }
    item.appendChild(visual);
    // File name
    const name = document.createElement("div");
    name.className = "file-name";
    name.textContent = file.name;
    // File size
    const meta = document.createElement("div");
    meta.className = "file-meta";
    meta.textContent = `${(file.size / (1024 * 1024)).toFixed(2)} MB`;
    // Remove button
    const removeBtn = document.createElement("button");
    removeBtn.type = "button";
    removeBtn.className = "file-remove";
    removeBtn.textContent = "√ó";
    removeBtn.title = "Remove file";
    removeBtn.addEventListener("click", () => {
      selectedFiles.splice(idx, 1);
      syncInputFiles();
      renderPreview();
    });
    item.appendChild(removeBtn);
    item.appendChild(name);
    item.appendChild(meta);
    filePreview.appendChild(item);
  });
}
function syncInputFiles() {
  // rebuild the <input> FileList using DataTransfer
  if (!fileInput) return;
  const dt = new DataTransfer();
  selectedFiles.forEach(f => dt.items.add(f));
  fileInput.files = dt.files;
}
function showFileError(msg) {
  if (!fileError) return;
  fileError.textContent = msg;
  fileError.style.display = "block";
}
function clearFileError() {
  if (!fileError) return;
  fileError.textContent = "";
  fileError.style.display = "none";
}
if (fileInput) {
  fileInput.addEventListener("change", () => {
    clearFileError();
    const incoming = Array.from(fileInput.files || []);
    // validate count (combined with existing)
    if (selectedFiles.length + incoming.length > MAX_FILES) {
      showFileError(`Max ${MAX_FILES} files allowed.`);
      fileInput.value = "";
      return;
    }
    // validate size per file
    for (const f of incoming) {
      if (f.size > MAX_BYTES) {
        showFileError(`"${f.name}" is over ${MAX_MB}MB. Please choose a smaller file.`);
        fileInput.value = "";
        return;
      }
    }
    // accept
    selectedFiles = selectedFiles.concat(incoming);
    syncInputFiles();
    renderPreview();
  });
}
/* ===========================
   SUBMIT (BOTH FORMS)
=========================== */
const bookingForm = document.getElementById("bookingForm");
const contactForm = document.getElementById("contactForm");
if (bookingForm) bookingForm.addEventListener("submit", submitWithRecaptcha);
if (contactForm) contactForm.addEventListener("submit", submitWithRecaptcha);
async function submitWithRecaptcha(e) {
  e.preventDefault();
  const form = e.target;
  const msg  = form.querySelector(".form-msg");
  if (msg) msg.textContent = "Submitting‚Ä¶";
  const formType =
    form.id === "bookingForm" ? "booking" : "contact";
  // SAFETY: block submit if file validation error exists
  if (typeof fileError !== "undefined" && fileError.textContent) {
    if (msg) msg.textContent = "Please fix the file upload errors.";
    return;
  }
  grecaptcha.ready(() => {
    grecaptcha.execute(RECAPTCHA_SITE_KEY, { action: "submit" })
      .then(async token => {
        try {
          // Build FormData directly (NO JSON)
          const formData = new FormData(form);
          // Required metadata
          formData.append("form_type", formType);
          formData.append("recaptcha_token", token);
          // Attach validated files (booking only)
          if (formType === "booking" && Array.isArray(selectedFiles)) {
            selectedFiles.forEach(file => {
              formData.append("documents", file, file.name);
            });
          }
          const res = await fetch(ENDPOINT, {
            method: "POST",
            body: formData
          });
          const data = await res.json();
          if (!res.ok || !data.success) {
            throw new Error(data.error || "Submission failed");
          }
          // SUCCESS
          if (msg) msg.textContent = "Thank you! We‚Äôll be in touch shortly.";
          form.reset();
          // Clear booking-only UI
          if (formType === "booking") {
            selectedFiles.length = 0;
            if (filePreview) filePreview.innerHTML = "";
            if (fileInput) fileInput.value = "";
            if (fileError) fileError.textContent = "";
          }
        } catch (err) {
          console.error(err);
          if (msg) msg.textContent = "Submission failed. Please try again.";
        }
      });
  });
 }
});
</script>
  
</body>
</html>
