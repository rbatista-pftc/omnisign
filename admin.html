<!DOCTYPE html>
<html>
  <body>
    <h2>OmniSign Admin Panel</h2>
    <div id="bookings"></div>

    <script>
      google.script.run.withSuccessHandler(render).getBookings();

      function render(bookings) {
        const el = document.getElementById("bookings");
        bookings.forEach(b => {
          const div = document.createElement("div");
          div.innerHTML = `
            <strong>${b.bookingId}</strong> â€“ ${b.status}
            <button onclick="complete('${b.bookingId}')">Mark Complete</button>
          `;
          el.appendChild(div);
        });
      }

      function complete(id) {
        google.script.run.markBookingComplete(id);
        location.reload();
      }
    </script>
  </body>
</html>
